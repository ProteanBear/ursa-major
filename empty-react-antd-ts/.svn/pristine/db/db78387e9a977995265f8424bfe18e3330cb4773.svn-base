{"ast":null,"code":"import \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/row/style/css\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/icon/style/css\";\nimport _Icon from \"antd/es/icon\";\nimport \"antd/es/auto-complete/style/css\";\nimport _AutoComplete from \"antd/es/auto-complete\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/col/style/css\";\nimport _Col from \"antd/es/col\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/date-picker/style/css\";\nimport _DatePicker from \"antd/es/date-picker\";\nimport \"antd/es/select/style/css\";\nimport _Select from \"antd/es/select\";\nimport _objectSpread from \"/Users/maqiang/\\u7F16\\u7A0B/yzwj-recorder-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/maqiang/\\u7F16\\u7A0B/yzwj-recorder-web/src/components/ApplyFormResume.tsx\";\nimport React from 'react';\nimport { DictionaryLoader } from '../app/DictionaryLoader';\n\n/**\n * 申请表单：工作履历\n */\nexport default class ApplyFormResume extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      jobs: DictionaryLoader.instance.job(),\n      resumes: this.props.resumes\n      /**\n       * 页面布局\n       */\n\n    };\n\n    this.handleSearch = value => {\n      const dictionaryJob = DictionaryLoader.instance.job();\n      const jobs = this.state.jobs;\n      jobs.splice(0, jobs.length);\n      dictionaryJob.map(dict => {\n        if (dict.label && String(dict.label).indexOf(value) !== -1) {\n          jobs.push(dict);\n        }\n      });\n      this.setState(_objectSpread({}, this.state, {\n        jobs: jobs\n      }));\n    };\n\n    this.addNewEquipment = () => {\n      const resumes = this.state.resumes;\n      resumes.push({\n        time: \"\",\n        unit: \"\",\n        position: \"\"\n      });\n      this.setState(_objectSpread({}, this.state, {\n        resumes: resumes\n      })); // this.props.onChange(resumes);\n    };\n\n    this.removeResume = index => {\n      const resumes = this.state.resumes;\n      resumes.splice(index, 1);\n      this.setState(_objectSpread({}, this.state, {\n        resumes: resumes\n      })); // this.props.onChange(resumes);\n    };\n\n    this.resumeChange = (index, resume) => {\n      const resumes = this.state.resumes;\n      resumes[index] = resume;\n      this.setState(_objectSpread({}, this.state, {\n        resumes: resumes\n      })); // this.props.onChange(resumes);\n    };\n  }\n\n  render() {\n    const Option = _Select.Option;\n    const jobs = this.state.jobs;\n    const autoCompleteChildren = jobs.map(data => React.createElement(Option, {\n      key: data.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, data.label));\n    return React.createElement(_Form, {\n      className: \"form-ul-group\",\n      layout: \"inline\",\n      labelCol: {\n        span: 0\n      },\n      wrapperCol: {\n        span: 24\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, this.props.resumes.map((resume, index) => React.createElement(_Row, {\n      key: \"resume-\".concat(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(_Col, {\n      span: 6,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(_Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(_DatePicker.RangePicker, {\n      placeholder: [\"开始日期\", \"结束日期\"],\n      onChange: (dates, dateStrings) => {\n        console.table(dates);\n        console.table(dateStrings);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }))), React.createElement(_Col, {\n      span: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"divider\",\n      style: {\n        marginTop: 4\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"--\")), React.createElement(_Col, {\n      span: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(_Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(_Input, {\n      placeholder: \"\\u5DE5\\u4F5C\\u7684\\u673A\\u6784\\u540D\\u79F0\",\n      value: resume.unit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }))), React.createElement(_Col, {\n      span: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"divider\",\n      style: {\n        marginTop: 4\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"--\")), React.createElement(_Col, {\n      span: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(_Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(_AutoComplete, {\n      value: resume.position,\n      placeholder: \"\\u5DE5\\u4F5C\\u804C\\u52A1\",\n      onSearch: this.handleSearch,\n      disabled: this.props.disabled,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, autoCompleteChildren))), React.createElement(_Col, {\n      span: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(_Icon, {\n      className: \"dynamic-delete-button\",\n      type: \"minus-circle-o\",\n      style: {\n        paddingTop: 5\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })))), React.createElement(_Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(_Col, {\n      span: 20,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(_Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      type: \"dashed\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(_Icon, {\n      type: \"plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), \" \\u6DFB\\u52A0\\u5DE5\\u4F5C\\u7ECF\\u5386\")))));\n  }\n  /**\n   * 过滤提示职务名称\n   */\n\n\n}","map":{"version":3,"sources":["/Users/maqiang/编程/yzwj-recorder-web/src/components/ApplyFormResume.tsx"],"names":["React","DictionaryLoader","ApplyFormResume","Component","state","jobs","instance","job","resumes","props","handleSearch","value","dictionaryJob","splice","length","map","dict","label","String","indexOf","push","setState","addNewEquipment","time","unit","position","removeResume","index","resumeChange","resume","render","Option","autoCompleteChildren","data","span","dates","dateStrings","console","table","marginTop","disabled","paddingTop"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Row, Col, DatePicker, Icon, Input, AutoComplete, Button, Select } from 'antd';\nimport { DictionaryData,DictionaryLoader } from '../app/DictionaryLoader';\nimport { ApplyContentManagerResume } from '../app/Model';\n\ntype ApplyFormResumeProps={\n    resumes:Array<ApplyContentManagerResume>,\n    // onChange(resumes:Array<ApplyContentManagerResume>):void,\n    disabled:boolean\n}\n\n/**\n * 申请表单：工作履历\n */\nexport default class ApplyFormResume extends React.Component<ApplyFormResumeProps>{\n    readonly state:{\n        jobs:Array<DictionaryData>,\n        resumes:Array<ApplyContentManagerResume>\n    }={\n        jobs:DictionaryLoader.instance.job(),\n        resumes:this.props.resumes\n    }\n\n    /**\n     * 页面布局\n     */\n    render(){\n        const {Option}=Select;\n        const {jobs}=this.state;\n\n        const autoCompleteChildren=jobs.map(\n            data=><Option key={data.value}>{data.label}</Option>\n        );\n\n        return (\n            <Form className=\"form-ul-group\" layout=\"inline\" labelCol={{span:0}} wrapperCol={{span:24}}>\n                {this.props.resumes.map((resume,index)=>(\n                    <Row key={`resume-${index}`}>\n                        <Col span={6}>\n                            <Form.Item>\n                                <DatePicker.RangePicker placeholder={[\"开始日期\",\"结束日期\"]} \n                                    onChange={(dates,dateStrings)=>{\n                                        console.table(dates);\n                                        console.table(dateStrings);\n                                    }}\n                                />\n                            </Form.Item>\n                        </Col>\n                        <Col span={1}><span className=\"divider\" style={{marginTop:4}}>--</span></Col>\n                        <Col span={8}>\n                            <Form.Item>\n                                <Input placeholder=\"工作的机构名称\" value={resume.unit}/>\n                            </Form.Item>\n                        </Col>\n                        <Col span={1}><span className=\"divider\" style={{marginTop:4}}>--</span></Col>\n                        <Col span={4}>\n                            <Form.Item>\n                                <AutoComplete value={resume.position}\n                                        placeholder=\"工作职务\"\n                                        onSearch={this.handleSearch}\n                                        disabled={this.props.disabled}\n                                >\n                                    {autoCompleteChildren}\n                                </AutoComplete>\n                            </Form.Item>\n                        </Col>\n                        <Col span={4}>\n                            <Icon\n                                className=\"dynamic-delete-button\"\n                                type=\"minus-circle-o\"\n                                style={{paddingTop:5}}\n                            />\n                        </Col>\n                    </Row>\n                ))}\n                <Row>\n                    <Col span={20}>\n                        <Form.Item>\n                            <Button type=\"dashed\">\n                                <Icon type=\"plus\" /> 添加工作经历\n                            </Button>\n                        </Form.Item>\n                    </Col>\n                </Row>\n            </Form>\n        );\n    }\n\n    /**\n     * 过滤提示职务名称\n     */\n    handleSearch = (value:string) => {\n        const dictionaryJob=DictionaryLoader.instance.job();\n        const {jobs}=this.state;\n        jobs.splice(0,jobs.length);\n        dictionaryJob.map((dict:DictionaryData)=>{\n            if(dict.label&&(String(dict.label).indexOf(value)!==-1)){\n                jobs.push(dict);\n            }\n        });\n        this.setState({\n            ...this.state,\n            jobs:jobs\n        });\n    }\n\n    /**\n     * 添加一条新的履历信息\n     */\n    addNewEquipment=()=>{\n        const {resumes}=this.state;\n        resumes.push({\n            time:\"\",\n            unit:\"\",\n            position:\"\"\n        });\n        this.setState({...this.state,resumes:resumes});\n\n        // this.props.onChange(resumes);\n    }\n\n    /**\n     * 删除一个新添加的履历\n     */\n    removeResume=(index:number)=>{\n        const {resumes}=this.state;\n        resumes.splice(index,1);\n        this.setState({...this.state,resumes:resumes});\n\n        // this.props.onChange(resumes);\n    }\n\n    /**\n     * 履历信息修改\n     */\n    resumeChange=(index:number,resume:ApplyContentManagerResume)=>{\n        const {resumes}=this.state;\n        resumes[index]=resume;\n        this.setState({...this.state,resumes:resumes});\n\n        // this.props.onChange(resumes);\n    }\n}"]},"metadata":{},"sourceType":"module"}