{"ast":null,"code":"import \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nimport _objectSpread from \"/Users/maqiang/\\u7F16\\u7A0B/yzwj-recorder-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport \"antd/es/message/style/css\";\nimport _message from \"antd/es/message\";\nimport \"antd/es/col/style/css\";\nimport _Col from \"antd/es/col\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/divider/style/css\";\nimport _Divider from \"antd/es/divider\";\nimport \"antd/es/breadcrumb/style/css\";\nimport _Breadcrumb from \"antd/es/breadcrumb\";\nimport \"antd/es/icon/style/css\";\nimport _Icon from \"antd/es/icon\";\nimport \"antd/es/typography/style/css\";\nimport _Typography from \"antd/es/typography\";\nvar _jsxFileName = \"/Users/maqiang/\\u7F16\\u7A0B/yzwj-recorder-web/src/pages/public/RecordCommitment.tsx\";\nimport React from 'react';\nimport Container from '../../components/Container';\nimport { withRouter } from 'react-router-dom';\nimport { ApplySectionPrompt, ApplySectionRecordStep } from '../../components/ApplyHeader';\nimport ApplyFormCommitment from '../../components/ApplyFormCommitment';\nimport { ApplyStep } from '../../app/Model';\nimport { HttpRequest } from '../../app/Request';\n/**\n * 备案流程：第一步，承诺书\n */\n\nclass RecordCommitment extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      applyNumber: this.props.match.params.id\n      /**\n       * 页面布局\n       */\n\n    };\n  }\n\n  render() {\n    const Title = _Typography.Title;\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(_Breadcrumb, {\n      className: \"breadcrumb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(_Breadcrumb.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(_Icon, {\n      type: \"file-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, \"\\u6267\\u4E1A\\u7533\\u8BF7\")), React.createElement(_Breadcrumb.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, \"\\u5907\\u6848\"))), React.createElement(Title, {\n      level: 4,\n      className: \"title-with-underline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, \"\\u5907\\u6848\\u7533\\u8BF7\"), React.createElement(ApplySectionPrompt, {\n      serialNumber: this.state.applyNumber,\n      deadline: this.state.data ? this.state.data.effectiveTime : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }), React.createElement(ApplySectionRecordStep, Object.assign({}, ApplyStep.RECORD_COMMITMENT, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    })), React.createElement(_Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"title-inner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"\\u7B2C\\u4E00\\u6B65\\uFF1A\\u627F\\u8BFA\\u4E66\")), React.createElement(ApplyFormCommitment, {\n      organization: this.state.data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), console.log(this.state.data ? \"\" === this.state.data.commitment : true), React.createElement(_Col, {\n      span: 24,\n      className: \"section-buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      type: \"primary\",\n      disabled: this.state.data ? \"\" === this.state.data.commitment : true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"\\u4FDD\\u5B58\\u5E76\\u8FDB\\u5165\\u4E0B\\u4E00\\u6B65\")));\n  }\n  /**\n   * 组件完成后请求获取申请信息\n   */\n\n\n  async componentDidMount() {\n    _message.loading(\"正在获取申请内容...\", 0);\n\n    const applyContent = await new HttpRequest().get(\"webapi/apply/getRecordInfo?applyNo=\".concat(this.state.applyNumber));\n\n    _message.destroy();\n\n    if (!applyContent.success) {\n      this.props.history.push(\"/public/error500\");\n    }\n\n    this.setState(_objectSpread({}, this.state, {\n      data: applyContent.data\n    }));\n  }\n\n}\n\nexport default withRouter(_Form.create({\n  name: \"pageRecordCommitment\"\n})(RecordCommitment));","map":{"version":3,"sources":["/Users/maqiang/编程/yzwj-recorder-web/src/pages/public/RecordCommitment.tsx"],"names":["React","Container","withRouter","ApplySectionPrompt","ApplySectionRecordStep","ApplyFormCommitment","ApplyStep","HttpRequest","RecordCommitment","Component","state","applyNumber","props","match","params","id","render","Title","data","effectiveTime","RECORD_COMMITMENT","console","log","commitment","componentDidMount","loading","applyContent","get","destroy","success","history","push","setState","create","name"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Container from '../../components/Container';\nimport { Breadcrumb,Icon,Typography, Button, Divider,Col,Form,message} from 'antd';\nimport { Link, withRouter } from 'react-router-dom';\nimport { ApplySectionPrompt, ApplySectionRecordStep } from '../../components/ApplyHeader';\nimport ApplyFormCommitment  from '../../components/ApplyFormCommitment';\nimport { ApplyStep, AppComponentProps, ApplyContentOrganization} from '../../app/Model';\nimport { HttpResponse, HttpRequest } from '../../app/Request';\n\n/**\n * 备案流程：第一步，承诺书\n */\nclass RecordCommitment extends React.Component<AppComponentProps>{\n    readonly state:{\n        /**申请单号 */\n        applyNumber:string;\n        /**申请内容 */\n        data?:ApplyContentOrganization\n    }={\n        applyNumber:this.props.match.params.id\n    }\n\n    /**\n     * 页面布局\n     */\n    render(){\n        const {Title}=Typography;\n        return (\n            <Container>\n                {/* 标题 */}\n                <Breadcrumb className=\"breadcrumb\">\n                    <Breadcrumb.Item><Icon type=\"file-text\"/><span>执业申请</span></Breadcrumb.Item>\n                    <Breadcrumb.Item><span>备案</span></Breadcrumb.Item>\n                </Breadcrumb>\n                <Title level={4} className=\"title-with-underline\">备案申请</Title>\n\n                {/* 顶部 */}\n                <ApplySectionPrompt serialNumber={this.state.applyNumber} \n                    deadline={this.state.data?this.state.data.effectiveTime:\"\"} />\n                <ApplySectionRecordStep {...ApplyStep.RECORD_COMMITMENT} />\n                <Divider><span className=\"title-inner\">第一步：承诺书</span></Divider>\n\n                {/* 表单 */}\n                <ApplyFormCommitment organization={this.state.data} />\n\n                {/* 按钮 */}\n                {console.log(this.state.data?(\"\"===this.state.data.commitment):true)}\n                <Col span={24} className=\"section-buttons\">\n                    <Button type=\"primary\" disabled={(this.state.data?(\"\"===this.state.data.commitment):true)}>\n                        保存并进入下一步\n                    </Button>\n                </Col>\n            </Container>\n        );\n    }\n\n    /**\n     * 组件完成后请求获取申请信息\n     */\n    async componentDidMount(){\n        message.loading(\"正在获取申请内容...\",0);\n\n        const applyContent:HttpResponse<ApplyContentOrganization>=\n            await ((new HttpRequest()).get<ApplyContentOrganization>(\n                `webapi/apply/getRecordInfo?applyNo=${this.state.applyNumber}`\n            ));\n        message.destroy();\n\n        if(!applyContent.success){\n            this.props.history.push(\"/public/error500\");\n        }\n\n        this.setState({\n            ...this.state,\n            data:applyContent.data\n        });\n    }\n}\nexport default withRouter((Form.create({name:\"pageRecordCommitment\"})(RecordCommitment) as any));"]},"metadata":{},"sourceType":"module"}