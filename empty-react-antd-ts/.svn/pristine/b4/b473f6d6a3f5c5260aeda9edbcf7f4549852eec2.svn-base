{"ast":null,"code":"import \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/tabs/style/css\";\nimport _Tabs from \"antd/es/tabs\";\nimport _objectSpread from \"/Users/maqiang/\\u7F16\\u7A0B/yzwj-recorder-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/maqiang/\\u7F16\\u7A0B/yzwj-recorder-web/src/components/StaffManager.tsx\";\nimport React from 'react';\nimport StaffDoctorsAndNurse from './StaffDoctorsAndNurses';\nimport StaffTechnical from './StaffTechnical';\nimport StaffOther from './StaffOther';\n\n/**\n * 机构人员管理\n */\nclass StaffManager extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        applyStaffs: [],\n        delStaffs: [],\n        applyTechnicians: [],\n        delTechnicians: [],\n        applyOthers: [],\n        delOthers: []\n      }\n      /**\n       * 页面布局\n       */\n\n    };\n\n    this.onChange = (key, staffs, delKey, staffIds) => {\n      const data = this.state.data;\n      data[key] = staffs;\n      if (delKey && staffIds) data[delKey] = staffIds;\n      this.setState(_objectSpread({}, this.state, {\n        data: data\n      }));\n    };\n\n    this.staffs = () => _objectSpread({}, this.state.data);\n  }\n\n  render() {\n    const TabPane = _Tabs.TabPane;\n    return React.createElement(_Tabs, {\n      defaultActiveKey: \"doctorAndNurse\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(TabPane, {\n      tab: \"\\u533B\\u62A4\\u4EBA\\u5458\",\n      key: \"doctorAndNurse\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(StaffDoctorsAndNurse, {\n      serialNumber: this.props.serialNumber,\n      disabled: this.props.disabled,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    })), React.createElement(TabPane, {\n      tab: \"\\u533B\\u6280\\u4EBA\\u5458\",\n      key: \"technology\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(StaffTechnical, {\n      serialNumber: this.props.serialNumber,\n      disabled: this.props.disabled,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    })), React.createElement(TabPane, {\n      tab: \"\\u5176\\u4ED6\\u4EBA\\u5458\",\n      key: \"other\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(StaffOther, {\n      serialNumber: this.props.serialNumber,\n      disabled: this.props.disabled,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })));\n  }\n  /**\n   * 更新当前人员记录\n   */\n\n\n}\n\nexport default _Form.create({\n  name: \"staffManager\"\n})(StaffManager);","map":{"version":3,"sources":["/Users/maqiang/编程/yzwj-recorder-web/src/components/StaffManager.tsx"],"names":["React","StaffDoctorsAndNurse","StaffTechnical","StaffOther","StaffManager","Component","state","data","applyStaffs","delStaffs","applyTechnicians","delTechnicians","applyOthers","delOthers","onChange","key","staffs","delKey","staffIds","setState","render","TabPane","props","serialNumber","disabled","create","name"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,oBAAP,MAAiC,yBAAjC;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,UAAP,MAAuB,cAAvB;;AAYA;;;AAGA,MAAMC,YAAN,SAA2BJ,KAAK,CAACK,SAAjC,CAA6D;AAAA;AAAA;AAAA,SAChDC,KADgD,GAKvD;AACEC,MAAAA,IAAI,EAAC;AACDC,QAAAA,WAAW,EAAC,EADX;AAEDC,QAAAA,SAAS,EAAC,EAFT;AAGDC,QAAAA,gBAAgB,EAAC,EAHhB;AAIDC,QAAAA,cAAc,EAAC,EAJd;AAKDC,QAAAA,WAAW,EAAC,EALX;AAMDC,QAAAA,SAAS,EAAC;AANT;AAUT;;;;AAXE,KALuD;;AAAA,SAiDzDC,QAjDyD,GAiDhD,CAACC,GAAD,EAAYC,MAAZ,EAA8BC,MAA9B,EAA6CC,QAA7C,KAAuE;AAAA,YACrEX,IADqE,GAC/D,KAAKD,KAD0D,CACrEC,IADqE;AAE5EA,MAAAA,IAAI,CAACQ,GAAD,CAAJ,GAAUC,MAAV;AACA,UAAGC,MAAM,IAAEC,QAAX,EAAqBX,IAAI,CAACU,MAAD,CAAJ,GAAaC,QAAb;AACrB,WAAKC,QAAL,mBACO,KAAKb,KADZ;AAEIC,QAAAA,IAAI,EAACA;AAFT;AAIH,KAzDwD;;AAAA,SA8DzDS,MA9DyD,GA8DlD,wBAAS,KAAKV,KAAL,CAAWC,IAApB,CA9DkD;AAAA;;AAmBzDa,EAAAA,MAAM,GAAE;AAAA,UACGC,OADH,SACGA,OADH;AAEJ,WACI;AAAM,MAAA,gBAAgB,EAAC,gBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,OAAD;AAAS,MAAA,GAAG,EAAC,0BAAb;AAAoB,MAAA,GAAG,EAAC,gBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,oBAAD;AACI,MAAA,YAAY,EAAE,KAAKC,KAAL,CAAWC,YAD7B;AAEI,MAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWE,QAFzB;AAGI,MAAA,QAAQ,EAAE,KAAKV,QAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,EAQI,oBAAC,OAAD;AAAS,MAAA,GAAG,EAAC,0BAAb;AAAoB,MAAA,GAAG,EAAC,YAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,cAAD;AACI,MAAA,YAAY,EAAE,KAAKQ,KAAL,CAAWC,YAD7B;AAEI,MAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWE,QAFzB;AAGI,MAAA,QAAQ,EAAE,KAAKV,QAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CARJ,EAcI,oBAAC,OAAD;AAAS,MAAA,GAAG,EAAC,0BAAb;AAAoB,MAAA,GAAG,EAAC,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,UAAD;AACI,MAAA,YAAY,EAAE,KAAKQ,KAAL,CAAWC,YAD7B;AAEI,MAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWE,QAFzB;AAGI,MAAA,QAAQ,EAAE,KAAKV,QAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAdJ,CADJ;AAuBH;AAED;;;;;AA9CyD;;AAgE7D,eAAe,MAAKW,MAAL,CAA+B;AAACC,EAAAA,IAAI,EAAC;AAAN,CAA/B,EAAsDtB,YAAtD,CAAf","sourcesContent":["import React from 'react';\nimport { Tabs, Form } from 'antd';\nimport StaffDoctorsAndNurse from './StaffDoctorsAndNurses';\nimport StaffTechnical from './StaffTechnical';\nimport StaffOther from './StaffOther';\nimport { FormComponentProps } from 'antd/lib/form';\n\ntype StaffManagerProps=FormComponentProps&{\n    /**当前的申请单号 */\n    serialNumber:string;\n    /**是否禁止输入 */\n    disabled:boolean;\n    /**内容修改时处理 */\n    onChange():void;\n}\n\n/**\n * 机构人员管理\n */\nclass StaffManager extends React.Component<StaffManagerProps>{\n    readonly state:{\n        data:{\n            [key:string]:Array<any>\n        }\n    }={\n        data:{\n            applyStaffs:[],\n            delStaffs:[],\n            applyTechnicians:[],\n            delTechnicians:[],\n            applyOthers:[],\n            delOthers:[],\n        }\n    }\n\n    /**\n     * 页面布局\n     */\n    render(){\n        const {TabPane}=Tabs;\n        return (\n            <Tabs defaultActiveKey=\"doctorAndNurse\">\n                <TabPane tab=\"医护人员\" key=\"doctorAndNurse\">\n                    <StaffDoctorsAndNurse\n                        serialNumber={this.props.serialNumber} \n                        disabled={this.props.disabled}\n                        onChange={this.onChange}\n                    />\n                </TabPane>\n                <TabPane tab=\"医技人员\" key=\"technology\">\n                    <StaffTechnical\n                        serialNumber={this.props.serialNumber} \n                        disabled={this.props.disabled}\n                        onChange={this.onChange} />\n                </TabPane>\n                <TabPane tab=\"其他人员\" key=\"other\">\n                    <StaffOther \n                        serialNumber={this.props.serialNumber} \n                        disabled={this.props.disabled}\n                        onChange={this.onChange} />\n                </TabPane>\n            </Tabs>\n        );\n    }\n\n    /**\n     * 更新当前人员记录\n     */\n    onChange=(key:string,staffs:Array<any>,delKey?:string,staffIds?:Array<number>)=>{\n        const {data}=this.state;\n        data[key]=staffs;\n        if(delKey&&staffIds) data[delKey]=staffIds;\n        this.setState({\n            ...this.state,\n            data:data\n        });\n    }\n\n    /**\n     * 获取全部人员的信息\n     */\n    staffs=()=>({...this.state.data});\n}\nexport default Form.create<StaffManagerProps>({name:\"staffManager\"})(StaffManager);"]},"metadata":{},"sourceType":"module"}