{"ast":null,"code":"import \"antd/es/col/style/css\";\nimport _Col from \"antd/es/col\";\nimport \"antd/es/checkbox/style/css\";\nimport _Checkbox from \"antd/es/checkbox\";\nimport _objectSpread from \"/Users/maqiang/\\u7F16\\u7A0B/yzwj-recorder-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/maqiang/\\u7F16\\u7A0B/yzwj-recorder-web/src/components/ApplyFormMedical.tsx\";\nimport React from 'react';\nimport { DictionaryLoader } from '../app/DictionaryLoader';\nimport ApplyUtils from '../utils/ApplyUtils';\n\n/**\n * 诊疗范围类型（全部、简略）\n */\nexport let ApplyFormMedicalType;\n/**\n * 诊疗范围环境变量\n */\n\n(function (ApplyFormMedicalType) {\n  ApplyFormMedicalType[ApplyFormMedicalType[\"FULL\"] = 0] = \"FULL\";\n  ApplyFormMedicalType[ApplyFormMedicalType[\"SIMPLE\"] = 1] = \"SIMPLE\";\n})(ApplyFormMedicalType || (ApplyFormMedicalType = {}));\n\nexport const ApplyFormMedicalTypeContext = React.createContext({\n  type: ApplyFormMedicalType.SIMPLE\n});\n/**\n * 传递属性\n */\n\n/**\n * 申请公用表单：诊疗范围\n */\nexport class ApplyFormMedical extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectedCodes: ApplyUtils.medicalScopeToSet(this.props.scope)\n      /**\n       * 页面布局\n       */\n\n    };\n\n    this.onCheckboxChange = event => {\n      const _event$target = event.target,\n            checked = _event$target.checked,\n            value = _event$target.value;\n      const selectedCodes = this.state.selectedCodes;\n      checked ? selectedCodes.add(value) : selectedCodes.delete(value);\n      this.setState(_objectSpread({}, this.state, {\n        selectedCodes: selectedCodes\n      }));\n      this.props.onChange(ApplyUtils.medicalScopeToString(this.state.selectedCodes));\n    };\n  }\n\n  render() {\n    const firstTitleStyle = {\n      fontSize: 16,\n      fontWeight: \"bold\"\n    };\n    return React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(ApplyFormMedicalTypeContext.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, ({\n      type\n    }) => {\n      const medical = type === ApplyFormMedicalType.SIMPLE ? DictionaryLoader.instance.medicalSimple() : DictionaryLoader.instance.medical();\n      return React.createElement(\"ul\", {\n        className: \"form-ul-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, medical.map(dict => {\n        return dict.children && dict.children.length > 0 ? React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, React.createElement(_Col, {\n          span: 4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, React.createElement(_Checkbox, {\n          value: dict.value,\n          style: {\n            marginTop: 8\n          },\n          checked: this.state.selectedCodes.has(dict.value || \"\"),\n          onChange: this.onCheckboxChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          style: firstTitleStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, dict.label))), React.createElement(_Col, {\n          span: 20,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, dict.children.map(childDict => React.createElement(_Col, {\n          span: 6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(_Checkbox, {\n          value: childDict.value,\n          style: {\n            marginTop: 11\n          },\n          checked: this.state.selectedCodes.has(childDict.value || \"\"),\n          onChange: this.onCheckboxChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, childDict.label))))) : React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, React.createElement(_Col, {\n          span: 24,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, React.createElement(_Checkbox, {\n          value: dict.value,\n          style: {\n            marginTop: 8\n          },\n          checked: this.state.selectedCodes.has(dict.value || \"\"),\n          onChange: this.onCheckboxChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          style: firstTitleStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, dict.label))));\n      }));\n    }));\n  }\n  /**\n   * 选择改变事件：\n   * 修改当前选择的内容Set，\n   * 并同步给父组件\n   */\n\n\n}","map":{"version":3,"sources":["/Users/maqiang/编程/yzwj-recorder-web/src/components/ApplyFormMedical.tsx"],"names":["React","DictionaryLoader","ApplyUtils","ApplyFormMedicalType","ApplyFormMedicalTypeContext","createContext","type","SIMPLE","ApplyFormMedical","Component","state","selectedCodes","medicalScopeToSet","props","scope","onCheckboxChange","event","target","checked","value","add","delete","setState","onChange","medicalScopeToString","render","firstTitleStyle","fontSize","fontWeight","medical","instance","medicalSimple","map","dict","children","length","marginTop","has","label","childDict"],"mappings":"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","sourcesContent":["import React, { CSSProperties } from 'react';\nimport {Col,Checkbox} from 'antd';\n\nimport { DictionaryData, DictionaryLoader } from '../app/DictionaryLoader';\nimport ApplyUtils from '../utils/ApplyUtils';\nimport { CheckboxChangeEvent } from 'antd/lib/checkbox';\n\n/**\n * 诊疗范围类型（全部、简略）\n */\nexport enum ApplyFormMedicalType{\n    FULL,SIMPLE\n}\n\n/**\n * 诊疗范围环境变量\n */\nexport const ApplyFormMedicalTypeContext=React.createContext<{type:ApplyFormMedicalType}>({\n    type:ApplyFormMedicalType.SIMPLE\n})\n\n/**\n * 传递属性\n */\ntype ApplyFormMedicalProps={\n    /**诊疗范围选中，多个之间逗号分隔 */\n    scope:string;\n    /**诊疗范围变化后的修改事件 */\n    onChange(selectedScope:string):void;\n}\n\n/**\n * 申请公用表单：诊疗范围\n */\n export class ApplyFormMedical extends React.Component<ApplyFormMedicalProps>{\n    readonly state:{\n        /**已选中的全部诊疗范围 */\n        selectedCodes:Set<string>\n    }={\n        selectedCodes:ApplyUtils.medicalScopeToSet(this.props.scope)\n    }\n    \n    /**\n     * 页面布局\n     */\n    render(){\n        const firstTitleStyle:CSSProperties={fontSize:16,fontWeight:\"bold\"};\n\n        return (\n            <section>\n                <ApplyFormMedicalTypeContext.Consumer>\n                    {({type})=>{\n                        const medical:Array<DictionaryData>=(\n                            type===ApplyFormMedicalType.SIMPLE\n                                ?DictionaryLoader.instance.medicalSimple()\n                                :DictionaryLoader.instance.medical()\n                        );\n                        return (\n                            <ul className=\"form-ul-group\">\n                               {\n                                    medical.map((dict:DictionaryData)=>{\n                                        return dict.children&&dict.children.length>0\n                                        ?(\n                                            <li>\n                                                <Col span={4}>\n                                                    <Checkbox\n                                                        value={dict.value}\n                                                        style={{marginTop:8}}\n                                                        checked={this.state.selectedCodes.has(dict.value||\"\")}\n                                                        onChange={this.onCheckboxChange}\n                                                    >\n                                                        <span style={firstTitleStyle}>{dict.label}</span>\n                                                    </Checkbox>\n                                                </Col>\n                                                <Col span={20}>\n                                                    {dict.children.map((childDict:DictionaryData)=>(\n                                                        <Col span={6}>\n                                                            <Checkbox\n                                                                value={childDict.value}\n                                                                style={{marginTop:11}}\n                                                                checked={this.state.selectedCodes.has(childDict.value||\"\")}\n                                                                onChange={this.onCheckboxChange}\n                                                            >\n                                                                {childDict.label}\n                                                            </Checkbox>\n                                                        </Col>\n                                                    ))}\n                                                </Col>\n                                            </li>\n                                        ):(\n                                            <li>\n                                                <Col span={24}>\n                                                    <Checkbox\n                                                        value={dict.value}\n                                                        style={{marginTop:8}}\n                                                        checked={this.state.selectedCodes.has(dict.value||\"\")}\n                                                        onChange={this.onCheckboxChange}\n                                                    >\n                                                        <span style={firstTitleStyle}>{dict.label}</span>\n                                                    </Checkbox>\n                                                </Col>\n                                            </li>\n                                        );\n                                    })\n                               } \n                            </ul>\n                        );\n                    }}\n                </ApplyFormMedicalTypeContext.Consumer>\n            </section>\n        );\n    }\n\n    /**\n     * 选择改变事件：\n     * 修改当前选择的内容Set，\n     * 并同步给父组件\n     */\n    onCheckboxChange=(event:CheckboxChangeEvent)=>{\n        const {checked,value}=event.target;\n        const {selectedCodes}=this.state;\n        checked?selectedCodes.add(value):selectedCodes.delete(value);\n        \n        this.setState({\n            ...this.state,\n            selectedCodes:selectedCodes\n        });\n\n        this.props.onChange(\n            ApplyUtils.medicalScopeToString(this.state.selectedCodes)\n        );\n    }\n }"]},"metadata":{},"sourceType":"module"}