{"ast":null,"code":"import \"antd/es/message/style/css\";\nimport _message from \"antd/es/message\";\nimport \"antd/es/row/style/css\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/upload/style/css\";\nimport _Upload from \"antd/es/upload\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/radio/style/css\";\nimport _Radio from \"antd/es/radio\";\nimport \"antd/es/col/style/css\";\nimport _Col from \"antd/es/col\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/divider/style/css\";\nimport _Divider from \"antd/es/divider\";\nimport \"antd/es/breadcrumb/style/css\";\nimport _Breadcrumb from \"antd/es/breadcrumb\";\nimport \"antd/es/icon/style/css\";\nimport _Icon from \"antd/es/icon\";\nimport \"antd/es/select/style/css\";\nimport _Select from \"antd/es/select\";\nimport \"antd/es/typography/style/css\";\nimport _Typography from \"antd/es/typography\";\nimport \"antd/es/modal/style/css\";\nimport _Modal from \"antd/es/modal\";\nimport _objectSpread from \"/Users/maqiang/\\u7F16\\u7A0B/yzwj-recorder-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/maqiang/\\u7F16\\u7A0B/yzwj-recorder-web/src/pages/public/RecordOrganization.tsx\";\nimport React from 'react';\nimport Container from '../../components/Container';\nimport { ApplySectionPrompt, ApplySectionRecordStep } from '../../components/ApplyHeader';\nimport ApplyFormEquipment from '../../components/ApplyFormEquipment';\nimport { DictionaryLoader } from '../../app/DictionaryLoader';\nimport { ApplyFormMedical, ApplyFormMedicalType, ApplyFormMedicalTypeContext } from '../../components/ApplyFormMedical';\nimport { ApplyStep, PageError500 } from '../../app/Model';\nimport { HttpRequest } from '../../app/Request';\nimport InteractionUtils from '../../utils/InteractionUtils';\nconst addressPrefix = \"四川省成都市高新区\";\n/**\n * 备案流程：第二步，机构信息\n */\n\nclass RecordOrganization extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      serialNumber: this.props.match.params.id,\n      loading: false,\n      saved: true\n      /**\n       * 页面布局\n       */\n\n    };\n\n    this.equipmentChangeHandler = equipments => {\n      if (!this.state.data) return;\n      this.setState(_objectSpread({}, this.state, {\n        data: _objectSpread({}, this.state.data, {\n          equipments: equipments\n        })\n      }));\n    };\n\n    this.prevStep = () => {\n      const toPrevStep = () => {\n        InteractionUtils.scrollToTop();\n        this.props.history.push(ApplyStep.RECORD_COMMITMENT.routePath(this.state.serialNumber));\n      };\n\n      if (!this.state.saved) {\n        _Modal.confirm({\n          title: \"确定要离开这里么?\",\n          content: \"未保存的信息将会丢失！\",\n          okText: \"继续离开\",\n          cancelText: \"取消\",\n\n          onOk() {\n            toPrevStep();\n          }\n\n        });\n\n        return;\n      }\n\n      toPrevStep();\n    };\n\n    this.saveCommitmentAndNext = () => {\n      //输入检验\n      this.props.form.validateFieldsAndScroll(async (error, values) => {\n        if (!error) {\n          console.table(values);\n          if (!this.state.data) return;\n          this.setState(_objectSpread({}, this.state, {\n            loading: true\n          }));\n          const saveResponse = await new HttpRequest().post(\"webapi/apply/saveRecordInfo\", {\n            applyNo: this.state.serialNumber,\n            commitment: this.state.data.commitment\n          });\n\n          if (!saveResponse.success) {\n            this.props.history.push(PageError500);\n          }\n\n          this.setState(_objectSpread({}, this.state, {\n            loading: false\n          }));\n          InteractionUtils.scrollToTop();\n          this.props.history.push(ApplyStep.RECORD_ORGANIZATION.routePath(this.state.serialNumber));\n        }\n      });\n    };\n  }\n\n  render() {\n    //未载入数据时\n    if (!this.state.data) {\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      });\n    }\n\n    const Title = _Typography.Title;\n    const Option = _Select.Option;\n    const getFieldDecorator = this.props.form.getFieldDecorator;\n    const recordApply = {\n      applyNo: \"337676\",\n      applyDeadline: \"2019年1月1日\"\n    };\n    const content = this.state.data;\n    const street = DictionaryLoader.instance.street();\n    const subjection = DictionaryLoader.instance.subjection();\n    const ownership = DictionaryLoader.instance.ownership();\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(_Breadcrumb, {\n      className: \"breadcrumb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(_Breadcrumb.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(_Icon, {\n      type: \"file-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"\\u6267\\u4E1A\\u7533\\u8BF7\")), React.createElement(_Breadcrumb.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"\\u5907\\u6848\"))), React.createElement(Title, {\n      level: 4,\n      className: \"title-with-underline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"\\u5907\\u6848\\u7533\\u8BF7\"), React.createElement(ApplySectionPrompt, {\n      serialNumber: this.state.serialNumber,\n      deadline: content.effectiveTime,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(ApplySectionRecordStep, Object.assign({}, ApplyStep.RECORD_ORGANIZATION, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })), React.createElement(_Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"title-inner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"\\u7B2C\\u4E8C\\u6B65\\uFF1A\\u673A\\u6784\\u4FE1\\u606F\")), React.createElement(_Col, {\n      span: 22,\n      offset: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"title-form-sub\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"\\u57FA\\u672C\\u4FE1\\u606F\"), React.createElement(_Form, {\n      layout: \"vertical\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(_Col, {\n      span: 15,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(_Form.Item, {\n      label: \"\\u8BCA\\u6240\\u540D\\u79F0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, getFieldDecorator(\"name\", {\n      initialValue: content.name,\n      rules: [{\n        required: true,\n        message: \"诊所名称不能为空!\"\n      }]\n    })(React.createElement(_Input, {\n      name: \"name\",\n      placeholder: \"\\u8BF7\\u8F93\\u5165\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })))), React.createElement(_Col, {\n      span: 8,\n      offset: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(_Form.Item, {\n      label: \"\\u6240\\u5C5E\\u8857\\u9053\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, getFieldDecorator(\"street\", {\n      initialValue: \"\" === content.street ? undefined : content.street,\n      rules: [{\n        required: true,\n        message: \"必须选择所属的街道！\"\n      }]\n    })(React.createElement(_Select, {\n      showSearch: true,\n      placeholder: \"\\u9009\\u62E9\\u673A\\u6784\\u6240\\u5C5E\\u7684\\uFF08\\u9AD8\\u65B0\\u533A\\uFF09\\u8857\\u9053\",\n      optionFilterProp: \"children\",\n      filterOption: (input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, street.map((data, index) => {\n      return React.createElement(Option, {\n        key: data.value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, data.label);\n    }))))), React.createElement(_Col, {\n      span: 7,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(_Form.Item, {\n      label: \"\\u673A\\u6784\\u5730\\u5740\",\n      help: \"\\u8BF7\\u8F93\\u5165\\u8BE6\\u7EC6\\u7684\\u5730\\u5740\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(_Col, {\n      span: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(_Input, {\n      value: \"\\u56DB\\u5DDD\\u7701\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(_Col, {\n      span: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(_Input, {\n      value: \"\\u6210\\u90FD\\u5E02\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    })), React.createElement(_Col, {\n      span: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(_Input, {\n      value: \"\\u9AD8\\u65B0\\u533A\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })), React.createElement(_Col, {\n      span: 24,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, getFieldDecorator(\"address\", {\n      initialValue: content.address.replace(addressPrefix, \"\"),\n      rules: [{\n        required: true,\n        message: \"机构地址不能为空！\"\n      }]\n    })(React.createElement(_Input.TextArea, {\n      rows: 3,\n      style: {\n        maxHeight: 73\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    })))))), React.createElement(_Col, {\n      span: 7,\n      offset: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(_Form.Item, {\n      label: \"\\u7EDF\\u4E00\\u793E\\u4F1A\\u4FE1\\u7528\\u4EE3\\u7801\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, getFieldDecorator(\"onlyCode\", {\n      initialValue: content.onlyCode,\n      rules: [{\n        required: false\n      }]\n    })(React.createElement(_Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }))), React.createElement(_Form.Item, {\n      label: \"\\u96B6\\u5C5E\\u5173\\u7CFB\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, getFieldDecorator(\"subjection\", {\n      initialValue: \"\" === content.membership ? undefined : content.membership,\n      rules: [{\n        required: true,\n        message: \"必须选择隶属关系！\"\n      }]\n    })(React.createElement(_Select, {\n      showSearch: true,\n      placeholder: \"\\u8BF7\\u9009\\u62E9\",\n      optionFilterProp: \"children\",\n      filterOption: (input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, subjection.map((data, index) => {\n      return React.createElement(Option, {\n        key: data.value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, data.label);\n    }))))), React.createElement(_Col, {\n      span: 8,\n      offset: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(_Form.Item, {\n      label: \"\\u6240\\u6709\\u5236\\u6027\\u8D28\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, getFieldDecorator(\"ownership\", {\n      initialValue: \"\" === content.ownership ? undefined : content.ownership,\n      rules: [{\n        required: true,\n        message: \"必须选择所有制性质\"\n      }]\n    })(React.createElement(_Select, {\n      showSearch: true,\n      placeholder: \"\\u8BF7\\u9009\\u62E9\",\n      optionFilterProp: \"children\",\n      filterOption: (input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, ownership.map((data, index) => {\n      return React.createElement(Option, {\n        key: data.value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, data.label);\n    })))), React.createElement(_Form.Item, {\n      label: \"\\u7ECF\\u8425\\u6027\\u8D28\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, getFieldDecorator(\"natureOperation\", {\n      initialValue: \"\" === content.natureOperation ? \"营利性\" : content.natureOperation,\n      rules: [{\n        required: false\n      }]\n    })(React.createElement(_Radio.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(_Radio, {\n      value: \"\\u975E\\u8425\\u5229\\u6027\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"\\u975E\\u8425\\u5229\\u6027\"), React.createElement(_Radio, {\n      value: \"\\u8425\\u5229\\u6027\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"\\u8425\\u5229\\u6027\"))))), React.createElement(_Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(_Form.Item, {\n      label: \"\\u4E2D\\u533B\\u8BCA\\u7597\\u6280\\u672F\\u548C\\u65B9\\u6848\",\n      help: \"\\u586B\\u5199\\u5185\\u5BB9\\u96501000\\u5B57\\u4EE5\\u5185\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, getFieldDecorator(\"medicineTechnology\", {\n      initialValue: content.medicineTechnology,\n      rules: [{\n        required: false\n      }]\n    })(React.createElement(_Input.TextArea, {\n      rows: 5,\n      style: {\n        maxHeight: 115\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    })))), React.createElement(_Col, {\n      span: 11,\n      offset: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(_Form.Item, {\n      label: \"\\u4E2D\\u533B\\uFF08\\u4E13\\u573A\\uFF09\\u6267\\u4E1A\\u8303\\u56F4\",\n      help: \"\\u586B\\u5199\\u5185\\u5BB9\\u96501000\\u5B57\\u4EE5\\u5185\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, getFieldDecorator(\"medicineScope\", {\n      initialValue: content.medicineScope,\n      rules: [{\n        required: false\n      }]\n    })(React.createElement(_Input.TextArea, {\n      rows: 5,\n      style: {\n        maxHeight: 115\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    })))))), React.createElement(_Col, {\n      span: 22,\n      offset: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"title-form-sub\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"\\u8BBE\\u5907\\u6E05\\u5355\"), React.createElement(ApplyFormEquipment, {\n      equiptments: this.state.data.equipments,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    })), React.createElement(_Col, {\n      span: 22,\n      offset: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"title-form-sub\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, \"\\u8BCA\\u7597\\u8303\\u56F4\"), React.createElement(ApplyFormMedicalTypeContext.Provider, {\n      value: {\n        type: ApplyFormMedicalType.SIMPLE\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(ApplyFormMedical, Object.assign({}, recordApply, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    })))), React.createElement(_Col, {\n      span: 22,\n      offset: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"title-form-sub\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, \"\\u4E0A\\u4F20\\u5185\\u5BB9\"), React.createElement(_Form, {\n      labelCol: {\n        span: 7\n      },\n      wrapperCol: {\n        span: 17\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(_Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(_Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(_Form.Item, {\n      label: \"\\u533B\\u7597\\u5E9F\\u7269\\u670D\\u52A1\\u534F\\u8BAE\",\n      help: \"\\u652F\\u6301\\u6269\\u5C55\\u540D\\uFF1A.doc .docx .pdf\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, getFieldDecorator(\"waste\", {\n      rules: [{\n        required: false\n      }]\n    })(React.createElement(_Upload, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(_Icon, {\n      type: \"upload\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }), \"\\u4E0A\\u4F20\\u6587\\u4EF6\"))))), React.createElement(_Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(_Form.Item, {\n      label: \"\\u673A\\u6784\\u5236\\u5EA6\",\n      help: \"\\u652F\\u6301\\u6269\\u5C55\\u540D\\uFF1A.doc .docx .pdf\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, getFieldDecorator(\"regulation\", {\n      rules: [{\n        required: false\n      }]\n    })(React.createElement(_Upload, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, React.createElement(_Icon, {\n      type: \"upload\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }), \"\\u4E0A\\u4F20\\u6587\\u4EF6\")))))), React.createElement(_Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(_Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(_Form.Item, {\n      label: \"\\u8425\\u4E1A\\u6267\\u7167\",\n      help: \"\\u652F\\u6301\\u6269\\u5C55\\u540D\\uFF1A.jpg .png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, getFieldDecorator(\"license\", {\n      rules: [{\n        required: false\n      }]\n    })(React.createElement(_Upload, {\n      name: \"license\",\n      listType: \"picture-card\",\n      className: \"avatar-uploader\",\n      showUploadList: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, React.createElement(_Icon, {\n      type: \"plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"ant-upload-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, \"\\u4E0A\\u4F20\")))))), React.createElement(_Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, React.createElement(_Form.Item, {\n      label: \"\\u623F\\u5C4B\\u5E73\\u9762\\u5E03\\u5C40\\u56FE\",\n      help: \"\\u652F\\u6301\\u6269\\u5C55\\u540D\\uFF1A.jpg .png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, getFieldDecorator(\"license\", {\n      rules: [{\n        required: false\n      }]\n    })(React.createElement(_Upload, {\n      name: \"license\",\n      listType: \"picture-card\",\n      className: \"avatar-uploader\",\n      showUploadList: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, React.createElement(_Icon, {\n      type: \"plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"ant-upload-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, \"\\u4E0A\\u4F20\"))))))))), React.createElement(_Col, {\n      span: 24,\n      className: \"section-buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      onClick: this.prevStep,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, \"\\u4E0A\\u4E00\\u6B65\"), React.createElement(_Button, {\n      type: \"primary\",\n      onClick: this.saveCommitmentAndNext,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, \"\\u4FDD\\u5B58\\u5E76\\u8FDB\\u5165\\u4E0B\\u4E00\\u6B65\")));\n  }\n  /**\n   * 组件完成后请求获取申请信息\n   */\n\n\n  async componentDidMount() {\n    _message.loading(\"正在获取申请内容...\", 0);\n\n    const applyContent = await new HttpRequest().get(\"webapi/apply/getRecordInfo?applyNo=\".concat(this.state.serialNumber));\n\n    _message.destroy();\n\n    if (!applyContent.success) {\n      this.props.history.push(PageError500);\n    }\n\n    this.setState(_objectSpread({}, this.state, {\n      data: applyContent.data\n    })); // 添加窗口关闭监听\n\n    InteractionUtils.addWindowCloseListener(event => {\n      if (this.state.saved) event.preventDefault();else event.returnValue = true;\n    });\n  }\n  /**\n   * 卸载时删除窗口关闭监听\n   */\n\n\n  componentWillUnmount() {\n    InteractionUtils.removeWindowCloseListener();\n  }\n  /**\n   * 提供给子组件进行调用，修改机构中的设备信息列表\n   */\n\n\n}\n\nexport default _Form.create({\n  name: \"recordOrganization\"\n})(RecordOrganization);","map":{"version":3,"sources":["/Users/maqiang/编程/yzwj-recorder-web/src/pages/public/RecordOrganization.tsx"],"names":["React","Container","ApplySectionPrompt","ApplySectionRecordStep","ApplyFormEquipment","DictionaryLoader","ApplyFormMedical","ApplyFormMedicalType","ApplyFormMedicalTypeContext","ApplyStep","PageError500","HttpRequest","InteractionUtils","addressPrefix","RecordOrganization","Component","state","serialNumber","props","match","params","id","loading","saved","equipmentChangeHandler","equipments","data","setState","prevStep","toPrevStep","scrollToTop","history","push","RECORD_COMMITMENT","routePath","confirm","title","content","okText","cancelText","onOk","saveCommitmentAndNext","form","validateFieldsAndScroll","error","values","console","table","saveResponse","post","applyNo","commitment","success","RECORD_ORGANIZATION","render","Title","Option","getFieldDecorator","recordApply","applyDeadline","street","instance","subjection","ownership","effectiveTime","initialValue","name","rules","required","message","undefined","input","option","children","toLowerCase","indexOf","map","index","value","label","address","replace","maxHeight","onlyCode","membership","natureOperation","medicineTechnology","medicineScope","type","SIMPLE","span","componentDidMount","applyContent","get","destroy","addWindowCloseListener","event","preventDefault","returnValue","componentWillUnmount","removeWindowCloseListener","create"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Breadcrumb,Icon,Typography, Button,Divider,Col, Form, Input, Select,Radio, Upload, Row, message, Modal } from 'antd';\n\nimport Container from '../../components/Container';\nimport {ApplySectionPrompt,ApplySectionRecordStep} from '../../components/ApplyHeader';\nimport ApplyFormEquipment from '../../components/ApplyFormEquipment';\nimport {DictionaryData,DictionaryLoader} from '../../app/DictionaryLoader';\nimport { ApplyFormMedical, ApplyFormMedicalType,ApplyFormMedicalTypeContext } from '../../components/ApplyFormMedical';\nimport { ApplyContent, ApplyStep, AppComponentProps, ApplyContentOrganization, PageError500 } from '../../app/Model';\nimport { HttpResponse, HttpRequest } from '../../app/Request';\nimport InteractionUtils from '../../utils/InteractionUtils';\n\nconst addressPrefix=\"四川省成都市高新区\";\n\n/**\n * 备案流程：第二步，机构信息\n */\nclass RecordOrganization extends React.Component<AppComponentProps>{\n    readonly state:{\n        /**申请单号 */\n        serialNumber:string;\n        /**保存按钮是否请求中 */\n        loading:boolean;\n        /**是否已经保存 */\n        saved:boolean;\n        /**申请内容 */\n        data?:ApplyContentOrganization;\n    }={\n        serialNumber:this.props.match.params.id,\n        loading:false,\n        saved:true\n    }\n\n    /**\n     * 页面布局\n     */\n    render(){\n        //未载入数据时\n        if(!this.state.data){\n            return (\n                <Container></Container>\n            );\n        }\n\n        const {Title}=Typography;\n        const {Option}=Select;\n        const {getFieldDecorator} = this.props.form;\n        const recordApply:ApplyContent={applyNo:\"337676\",applyDeadline:\"2019年1月1日\"};\n\n        const content=this.state.data;\n        const street:Array<DictionaryData>=DictionaryLoader.instance.street();\n        const subjection:Array<DictionaryData>=DictionaryLoader.instance.subjection();\n        const ownership:Array<DictionaryData>=DictionaryLoader.instance.ownership();\n\n        return (\n            <Container>\n                {/* 标题 */}\n                <Breadcrumb className=\"breadcrumb\">\n                    <Breadcrumb.Item><Icon type=\"file-text\"/><span>执业申请</span></Breadcrumb.Item>\n                    <Breadcrumb.Item><span>备案</span></Breadcrumb.Item>\n                </Breadcrumb>\n                <Title level={4} className=\"title-with-underline\">备案申请</Title>\n\n                {/* 顶部 */}\n                <ApplySectionPrompt serialNumber={this.state.serialNumber} \n                    deadline={content.effectiveTime} />\n                <ApplySectionRecordStep {...ApplyStep.RECORD_ORGANIZATION} />\n                <Divider><span className=\"title-inner\">第二步：机构信息</span></Divider>\n\n                {/* 表单：基本信息 */}\n                <Col span={22} offset={1}>\n                    <h4 className=\"title-form-sub\">基本信息</h4>\n                    <Form layout=\"vertical\">\n                        <Col span={15}>\n                            <Form.Item label=\"诊所名称\">{\n                                getFieldDecorator(\"name\",{\n                                    initialValue:content.name,\n                                    rules:[\n                                        {required:true,message:\"诊所名称不能为空!\"}\n                                    ]\n                                })(<Input name=\"name\" placeholder=\"请输入\" />)}\n                            </Form.Item>\n                        </Col>\n                        <Col span={8} offset={1}>\n                            <Form.Item label=\"所属街道\">{\n                                getFieldDecorator(\"street\",{\n                                    initialValue:(\"\"===content.street?undefined:content.street),\n                                    rules:[\n                                        {required:true,message:\"必须选择所属的街道！\"}\n                                    ]\n                                })(\n                                    <Select showSearch\n                                        placeholder=\"选择机构所属的（高新区）街道\"\n                                        optionFilterProp=\"children\"\n                                        filterOption={(input, option:React.ReactElement) =>\n                                            option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                                        }\n                                    >\n                                        {street.map((data:DictionaryData,index:number)=>{\n                                            return (<Option key={data.value}>{data.label}</Option>);\n                                        })}\n                                    </Select>\n                                )}\n                            </Form.Item>\n                        </Col>\n                        <Col span={7}>\n                            <Form.Item label=\"机构地址\" help=\"请输入详细的地址\">\n                                <div className=\"input-group\">\n                                    <Col span={8}><Input value=\"四川省\" disabled/></Col>\n                                    <Col span={8}><Input value=\"成都市\" disabled/></Col>\n                                    <Col span={8}><Input value=\"高新区\" disabled/></Col>\n                                    <Col span={24}>{\n                                        getFieldDecorator(\"address\",{\n                                            initialValue:content.address.replace(addressPrefix,\"\"),\n                                            rules:[\n                                                {required:true,message:\"机构地址不能为空！\"}\n                                            ]\n                                        })(\n                                            <Input.TextArea rows={3} style={{maxHeight:73}} />\n                                        )\n                                    } \n                                    </Col>\n                                </div>\n                            \n                            </Form.Item>\n                        </Col>\n                        <Col span={7} offset={1}>\n                            <Form.Item label=\"统一社会信用代码\">{\n                                getFieldDecorator(\"onlyCode\",{\n                                    initialValue:content.onlyCode,\n                                    rules:[\n                                        {required:false}\n                                    ]\n                                })(\n                                    <Input placeholder=\"请输入\"/>\n                                )}\n                            </Form.Item>\n                            <Form.Item label=\"隶属关系\">{\n                                getFieldDecorator(\"subjection\",{\n                                    initialValue:(\"\"===content.membership?undefined:content.membership),\n                                    rules:[\n                                        {required:true,message:\"必须选择隶属关系！\"}\n                                    ]\n                                })(\n                                    <Select showSearch\n                                        placeholder=\"请选择\"\n                                        optionFilterProp=\"children\"\n                                        filterOption={(input, option:React.ReactElement) =>\n                                            option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                                        }\n                                    >\n                                        {subjection.map((data:DictionaryData,index:number)=>{\n                                            return (<Option key={data.value}>{data.label}</Option>);\n                                        })}\n                                    </Select>\n                                )}\n                            </Form.Item>\n                        </Col>\n                        <Col span={8} offset={1}>\n                            <Form.Item label=\"所有制性质\">{\n                                getFieldDecorator(\"ownership\",{\n                                    initialValue:(\"\"===content.ownership?undefined:content.ownership),\n                                    rules:[\n                                        {required:true,message:\"必须选择所有制性质\"}\n                                    ]\n                                })(\n                                    <Select showSearch\n                                        placeholder=\"请选择\"\n                                        optionFilterProp=\"children\"\n                                        filterOption={(input, option:React.ReactElement) =>\n                                            option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                                        }\n                                    >\n                                        {ownership.map((data:DictionaryData,index:number)=>{\n                                            return (<Option key={data.value}>{data.label}</Option>);\n                                        })}\n                                    </Select>\n                                )}\n                            </Form.Item>\n                            <Form.Item label=\"经营性质\">{\n                                getFieldDecorator(\"natureOperation\",{\n                                    initialValue:(\"\"===content.natureOperation?\"营利性\":content.natureOperation),\n                                    rules:[\n                                        {required:false}\n                                    ]\n                                })(\n                                    <Radio.Group>\n                                        <Radio value=\"非营利性\">非营利性</Radio>\n                                        <Radio value=\"营利性\">营利性</Radio>\n                                    </Radio.Group>\n                                )}\n                            </Form.Item>\n                        </Col>\n                        <Col span={12}>\n                            <Form.Item label=\"中医诊疗技术和方案\" help=\"填写内容限1000字以内\">{\n                                getFieldDecorator(\"medicineTechnology\",{\n                                    initialValue:content.medicineTechnology,\n                                    rules:[\n                                        {required:false}\n                                    ]\n                                })(\n                                    <Input.TextArea rows={5} style={{maxHeight:115}}></Input.TextArea>\n                                )}\n                            </Form.Item>\n                        </Col>\n                        <Col span={11} offset={1}>\n                            <Form.Item label=\"中医（专场）执业范围\" help=\"填写内容限1000字以内\">{\n                                getFieldDecorator(\"medicineScope\",{\n                                    initialValue:content.medicineScope,\n                                    rules:[\n                                        {required:false}\n                                    ]\n                                })(\n                                    <Input.TextArea rows={5} style={{maxHeight:115}}></Input.TextArea>\n                                )}\n                            </Form.Item>\n                        </Col>\n                    </Form>\n                </Col>\n\n                {/* 表单：设备清单 */}\n                <Col span={22} offset={1}>\n                    <h4 className=\"title-form-sub\">设备清单</h4>\n                    <ApplyFormEquipment equiptments={this.state.data.equipments} />\n                </Col>\n\n                {/* 表单：诊疗范围 */}\n                <Col span={22} offset={1}>\n                    <h4 className=\"title-form-sub\">诊疗范围</h4>\n                    <ApplyFormMedicalTypeContext.Provider value={{type:ApplyFormMedicalType.SIMPLE}}>\n                        <ApplyFormMedical {...recordApply} />\n                    </ApplyFormMedicalTypeContext.Provider>\n                </Col>\n\n                {/* 表单：上传内容 */}\n                <Col span={22} offset={1}>\n                    <h4 className=\"title-form-sub\">上传内容</h4>\n                    <Form labelCol={{span:7}} wrapperCol={{span:17}}>\n                        <Row>\n                            <Col span={12}>\n                                <Form.Item label=\"医疗废物服务协议\" help=\"支持扩展名：.doc .docx .pdf\">{\n                                    getFieldDecorator(\"waste\",{\n                                        rules:[\n                                            {required:false}\n                                        ]\n                                    })(\n                                        <Upload>\n                                            <Button><Icon type=\"upload\"/>上传文件</Button>\n                                        </Upload>\n                                    )}\n                                </Form.Item>\n                            </Col>\n                            <Col span={12}>\n                                <Form.Item label=\"机构制度\" help=\"支持扩展名：.doc .docx .pdf\">{\n                                    getFieldDecorator(\"regulation\",{\n                                        rules:[\n                                            {required:false}\n                                        ]\n                                    })(\n                                        <Upload>\n                                            <Button><Icon type=\"upload\"/>上传文件</Button>\n                                        </Upload>\n                                    )}\n                                </Form.Item>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col span={12}>\n                                <Form.Item\n                                    label=\"营业执照\" help=\"支持扩展名：.jpg .png\">{\n                                        getFieldDecorator(\"license\",{\n                                            rules:[\n                                                {required:false}\n                                            ]\n                                        })(\n                                            <Upload\n                                                name=\"license\"\n                                                listType=\"picture-card\"\n                                                className=\"avatar-uploader\"\n                                                showUploadList={false}\n\n                                            >\n                                                <div>\n                                                    <Icon type=\"plus\" />\n                                                    <div className=\"ant-upload-text\">上传</div>\n                                                </div>\n                                            </Upload>\n                                        )}\n                                </Form.Item>\n                            </Col>\n                            <Col span={12}>\n                                <Form.Item\n                                    label=\"房屋平面布局图\" help=\"支持扩展名：.jpg .png\">{\n                                        getFieldDecorator(\"license\",{\n                                            rules:[\n                                                {required:false}\n                                            ]\n                                        })(\n                                            <Upload\n                                                name=\"license\"\n                                                listType=\"picture-card\"\n                                                className=\"avatar-uploader\"\n                                                showUploadList={false}\n\n                                            >\n                                                <div>\n                                                    <Icon type=\"plus\" />\n                                                    <div className=\"ant-upload-text\">上传</div>\n                                                </div>\n                                            </Upload>\n                                        )}\n                                </Form.Item>\n                            </Col>\n                        </Row>\n                    </Form>\n                </Col>\n            \n                {/* 按钮 */}\n                <Col span={24} className=\"section-buttons\">\n                    <Button onClick={this.prevStep}>上一步</Button>\n                    <Button type=\"primary\" onClick={this.saveCommitmentAndNext}>\n                        保存并进入下一步\n                    </Button>\n                </Col>\n            </Container>\n        );\n    }\n\n    /**\n     * 组件完成后请求获取申请信息\n     */\n    async componentDidMount(){\n        message.loading(\"正在获取申请内容...\",0);\n\n        const applyContent:HttpResponse<ApplyContentOrganization>=\n            await ((new HttpRequest()).get<ApplyContentOrganization>(\n                `webapi/apply/getRecordInfo?applyNo=${this.state.serialNumber}`\n            ));\n        message.destroy();\n\n        if(!applyContent.success){\n            this.props.history.push(PageError500);\n        }\n\n        this.setState({\n            ...this.state,\n            data:applyContent.data\n        });\n\n        // 添加窗口关闭监听\n        InteractionUtils.addWindowCloseListener((event:Event)=>{\n            if(this.state.saved)    event.preventDefault();\n            else                    event.returnValue=true;\n        });\n    }\n\n    /**\n     * 卸载时删除窗口关闭监听\n     */\n    componentWillUnmount(){\n        InteractionUtils.removeWindowCloseListener();\n    }\n\n    /**\n     * 提供给子组件进行调用，修改机构中的设备信息列表\n     */\n    equipmentChangeHandler=(equipments:Array<ApplyFormEquipment>)=>{\n        if(!this.state.data) return;\n        \n        this.setState({\n            ...this.state,\n            data:{\n                ...this.state.data,\n                equipments:equipments\n            }\n        });\n    }\n\n    /**\n     * 上一步\n     */\n    prevStep=()=>{\n        const toPrevStep=()=>{\n            InteractionUtils.scrollToTop();\n            this.props.history.push(ApplyStep.RECORD_COMMITMENT.routePath(this.state.serialNumber));\n        };\n\n        if(!this.state.saved){\n            Modal.confirm({\n                title: \"确定要离开这里么?\",\n                content:\"未保存的信息将会丢失！\",\n                okText:\"继续离开\",\n                cancelText:\"取消\",\n                onOk() {toPrevStep()},\n            });\n            return;\n        }\n        \n        toPrevStep();\n    }\n\n    /**\n     * 保存后并进入下一步\n     */\n    saveCommitmentAndNext=()=>{\n        //输入检验\n        this.props.form.validateFieldsAndScroll(async (error,values)=>{\n            if(!error){\n                console.table(values);\n                if(!this.state.data) return;\n                this.setState({...this.state,loading:true});\n\n                const saveResponse:HttpResponse<any>=\n                    await ((new HttpRequest()).post<any,{applyNo:string,commitment:string}>(\n                        \"webapi/apply/saveRecordInfo\",\n                        {\n                            applyNo:this.state.serialNumber,\n                            commitment:this.state.data.commitment\n                        }\n                    ));\n\n                if(!saveResponse.success){\n                    this.props.history.push(PageError500);\n                }\n\n                this.setState({...this.state,loading:false});\n                InteractionUtils.scrollToTop();\n                this.props.history.push(ApplyStep.RECORD_ORGANIZATION.routePath(this.state.serialNumber));\n            }\n        });\n    }\n}\nexport default Form.create({name:\"recordOrganization\"})(RecordOrganization);"]},"metadata":{},"sourceType":"module"}