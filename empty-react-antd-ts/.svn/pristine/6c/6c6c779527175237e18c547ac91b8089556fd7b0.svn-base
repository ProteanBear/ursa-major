{"ast":null,"code":"var _jsxFileName = \"/Users/maqiang/\\u7F16\\u7A0B/yzwj-recorder-web/src/components/ImageViewer.tsx\";\nimport 'photoswipe/dist/photoswipe.css';\nimport 'photoswipe/dist/default-skin/default-skin.css';\nimport React from 'react';\n\n/**\n * 全部调用传递器\n */\nexport const ImageViewerContext = React.createContext({\n  selectedIndex: -1,\n  items: []\n});\n/**\n * 全屏图片查看器（基于PhotoSwipe）\n */\n\nclass ImageViewer extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n\n    this.view = images => {\n      console.table(images); // const viewer=new PhotoSwipe(\n      //     element,\n      //     PhotoSwipeUI_Default,\n      //     this.state.gallery.images,\n      //     {}\n      // );\n      // viewer.init();\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"pswp\",\n      tabIndex: -1,\n      role: \"dialog\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pswp__bg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"pswp__scroll-wrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pswp__container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pswp__item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"pswp__item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"pswp__item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"pswp__ui pswp__ui--hidden\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pswp__top-bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pswp__counter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"pswp__button pswp__button--close\",\n      title: \"Close (Esc)\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"pswp__button pswp__button--share\",\n      title: \"Share\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"pswp__button pswp__button--fs\",\n      title: \"Toggle fullscreen\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"pswp__button pswp__button--zoom\",\n      title: \"Zoom in/out\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"pswp__preloader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pswp__preloader__icn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pswp__preloader__cut\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pswp__preloader__donut\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pswp__share-tooltip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"pswp__button pswp__button--arrow--left\",\n      title: \"Previous (arrow left)\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"pswp__button pswp__button--arrow--right\",\n      title: \"Next (arrow right)\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"pswp__caption\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pswp__caption__center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })))), React.createElement(ImageViewerContext.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, imageArray => {\n      this.view(imageArray);\n      return \"\";\n    }));\n  }\n\n  componentDidMount() {\n    const pswp = document.querySelector(\".pswp\");\n    if (!pswp) return;\n    this.setState({\n      pswp: pswp\n    });\n  }\n  /**\n   * 查看指定的图片内容\n   */\n\n\n}\n\nexport default ImageViewer;","map":{"version":3,"sources":["/Users/maqiang/编程/yzwj-recorder-web/src/components/ImageViewer.tsx"],"names":["React","ImageViewerContext","createContext","selectedIndex","items","ImageViewer","Component","state","view","images","console","table","render","imageArray","componentDidMount","pswp","document","querySelector","setState"],"mappings":";AAAA,OAAO,gCAAP;AACA,OAAO,+CAAP;AAEA,OAAOA,KAAP,MAAkB,OAAlB;;AAkBA;;;AAGA,OAAO,MAAMC,kBAAkB,GAACD,KAAK,CAACE,aAAN,CAAgC;AAC5DC,EAAAA,aAAa,EAAC,CAAC,CAD6C;AAE5DC,EAAAA,KAAK,EAAC;AAFsD,CAAhC,CAAzB;AAKP;;;;AAGA,MAAMC,WAAN,SAA0BL,KAAK,CAACM,SAAhC,CAAyC;AAAA;AAAA;AAAA,SAC5BC,KAD4B,GAGnC,EAHmC;;AAAA,SA6DrCC,IA7DqC,GA6D/BC,MAAD,IAA2B;AAC5BC,MAAAA,OAAO,CAACC,KAAR,CAAcF,MAAd,EAD4B,CAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACH,KAtEoC;AAAA;;AAKrCG,EAAAA,MAAM,GAAE;AACJ,WACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAsB,MAAA,QAAQ,EAAE,CAAC,CAAjC;AAAoC,MAAA,IAAI,EAAC,QAAzC;AAAkD,qBAAY,MAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,CADJ,EAMI;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAQ,MAAA,SAAS,EAAC,kCAAlB;AAAqD,MAAA,KAAK,EAAC,aAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI;AAAQ,MAAA,SAAS,EAAC,kCAAlB;AAAqD,MAAA,KAAK,EAAC,OAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAII;AAAQ,MAAA,SAAS,EAAC,+BAAlB;AAAkD,MAAA,KAAK,EAAC,mBAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,EAKI;AAAQ,MAAA,SAAS,EAAC,iCAAlB;AAAoD,MAAA,KAAK,EAAC,aAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,EAMI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADA,CADJ,CANJ,CADJ,EAeI;AAAK,MAAA,SAAS,EAAC,8DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAfJ,EAkBI;AAAQ,MAAA,SAAS,EAAC,wCAAlB;AAA2D,MAAA,KAAK,EAAC,uBAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlBJ,EAoBI;AAAQ,MAAA,SAAS,EAAC,yCAAlB;AAA4D,MAAA,KAAK,EAAC,oBAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApBJ,EAsBI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAtBJ,CANJ,CAFJ,EAmCI,oBAAC,kBAAD,CAAoB,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKC,UAAD,IAA+B;AAC3B,WAAKL,IAAL,CAAUK,UAAV;AACA,aAAQ,EAAR;AACH,KAJL,CAnCJ,CADJ;AA4CH;;AAEDC,EAAAA,iBAAiB,GAAE;AACf,UAAMC,IAAI,GAACC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAX;AACA,QAAG,CAACF,IAAJ,EAAU;AACV,SAAKG,QAAL,CAAc;AAACH,MAAAA,IAAI,EAACA;AAAN,KAAd;AACH;AAED;;;;;AA1DqC;;AAwEzC,eAAeV,WAAf","sourcesContent":["import 'photoswipe/dist/photoswipe.css'\nimport 'photoswipe/dist/default-skin/default-skin.css'\n\nimport React from 'react';\nimport PhotoSwipeUI_Default, { Item } from 'photoswipe/dist/photoswipe-ui-default';\n\n/**\n * 单个图片元素\n */\nexport type ImageItem=Item&{\n    w?:number,\n    h?:number,\n};\n/**\n * 图片查看内容组\n */\nexport type ImageItems={\n    selectedIndex:number,\n    items:Array<ImageItem>\n};\n\n/**\n * 全部调用传递器\n */\nexport const ImageViewerContext=React.createContext<ImageItems>({\n    selectedIndex:-1,\n    items:[]\n});\n\n/**\n * 全屏图片查看器（基于PhotoSwipe）\n */\nclass ImageViewer extends React.Component{\n    readonly state:{\n        pswp?:HTMLElement\n    }={};\n\n    render(){\n        return (\n            <div className=\"pswp\" tabIndex={-1} role=\"dialog\" aria-hidden=\"true\">\n                <div className=\"pswp__bg\"></div>\n                <div className=\"pswp__scroll-wrap\">\n                    <div className=\"pswp__container\">\n                        <div className=\"pswp__item\"></div>\n                        <div className=\"pswp__item\"></div>\n                        <div className=\"pswp__item\"></div>\n                    </div>\n                    <div className=\"pswp__ui pswp__ui--hidden\">\n                        <div className=\"pswp__top-bar\">\n                            <div className=\"pswp__counter\"></div>\n                            <button className=\"pswp__button pswp__button--close\" title=\"Close (Esc)\"></button>\n                            <button className=\"pswp__button pswp__button--share\" title=\"Share\"></button>\n                            <button className=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button>\n                            <button className=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button>\n                            <div className=\"pswp__preloader\">\n                                <div className=\"pswp__preloader__icn\">\n                                <div className=\"pswp__preloader__cut\">\n                                    <div className=\"pswp__preloader__donut\"></div>\n                                </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\">\n                            <div className=\"pswp__share-tooltip\"></div> \n                        </div>\n                        <button className=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\">\n                        </button>\n                        <button className=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\">\n                        </button>\n                        <div className=\"pswp__caption\">\n                            <div className=\"pswp__caption__center\"></div>\n                        </div>\n                    </div>\n                </div>\n                <ImageViewerContext.Consumer>{\n                    (imageArray:Array<ImageItem>)=>{\n                        this.view(imageArray);\n                        return (\"\");\n                    }\n                }</ImageViewerContext.Consumer>\n            </div>\n        );\n    }\n\n    componentDidMount(){\n        const pswp=document.querySelector(\".pswp\");\n        if(!pswp) return;\n        this.setState({pswp:pswp});\n    }\n\n    /**\n     * 查看指定的图片内容\n     */\n    view=(images:Array<ImageItem>)=>{\n        console.table(images);\n        // const viewer=new PhotoSwipe(\n        //     element,\n        //     PhotoSwipeUI_Default,\n        //     this.state.gallery.images,\n        //     {}\n        // );\n        // viewer.init();\n    }\n}\nexport default ImageViewer;"]},"metadata":{},"sourceType":"module"}